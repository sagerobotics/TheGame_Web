<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Ava & Alyssa's Adventure — Game Select</title>

  <!-- ✅ External stylesheet -->
<link rel="stylesheet" href="sagestyle.css" />
</head>
<body>
  <!-- Title Screen -->
  <div id="titleScreen">
    <!-- ✅ Top-right thank-you section -->
    <div id="thankYouContainer">
      <h2 id="thankYouText">Thank you for supporting us!</h2>
      <!-- ✅ Clickable logo link -->
<a href="https://www.waywoodms.com/" target="_blank" rel="noopener" id="waywoodLink">
  <img id="waywoodLogo" src="waywood.png" alt="Waywood Logo" />
<span class="tooltipText">Visit Waywood Mississippi</span>
</a>
    </div>

    <!-- Main Title -->
    <img id="titleImage" src="titleprime.png" alt="Title Logo" />

    <div class="charSelect">
      <button class="charBtn" data-game="frogger.js">🐸 Play Frogger</button>
      <button class="charBtn" data-game="game.js">🎮 Adventure Girl (In Development)</button>
      <button class="charBtn" data-game="spaceinvaders.js">⭐ Space Invaders</button>
    </div>
  </div>



  <!-- Game Canvas -->
  <canvas id="game" width="800" height="775"></canvas>
  <audio id="coinSound" src="coin.wav" preload="auto"></audio>

  <!-- DPad -->
  <div id="dpad">
    <div></div>
    <div class="btn" data-key="ArrowUp">⬆️</div>
    <div></div>
    <div class="btn" data-key="ArrowLeft">⬅️</div>
    <div></div>
    <div class="btn" data-key="ArrowRight">➡️</div>
  </div>

  <!-- Action Button -->
  <div id="actionBtn">🅰️</div>

  <!-- Return Button -->
  <button id="returnBtn">⬅️ Return to Menu</button>

  <script>
    window.selectedCharacter = null;
    let activeScript = null;

    // Load external JS dynamically
    function loadScript(file) {
      if (activeScript) activeScript.remove();
      const script = document.createElement("script");
      script.src = file + "?v=" + Date.now();
      script.onload = () => console.log(file + " loaded ✅");
      script.onerror = () => console.error("Failed to load " + file);
      document.body.appendChild(script);
      activeScript = script;
    }

    // Return to menu
    window.returnToMenu = function() {
      window.location.reload();
      if (activeScript) activeScript.remove();
      document.getElementById("titleScreen").style.display = "flex";
      document.getElementById("returnBtn").style.display = "none";
      const ctx = document.getElementById("game").getContext("2d");
      ctx.clearRect(0, 0, 800, 775);
    };

    // Menu buttons
    document.querySelectorAll(".charBtn").forEach(btn => {
      btn.addEventListener("click", () => {
        const file = btn.getAttribute("data-game");
        document.getElementById("titleScreen").style.display = "none";
        document.getElementById("returnBtn").style.display = "block";
        loadScript(file);
      });
    });

    // Return button
    document.getElementById("returnBtn").addEventListener("click", window.returnToMenu);

    // Action button for spacebar trigger
    const actionBtn = document.getElementById("actionBtn");
    const triggerSpace = () => {
      const spaceEvent = new KeyboardEvent("keydown", { key: " " });
      document.dispatchEvent(spaceEvent);
    };
    actionBtn.addEventListener("click", triggerSpace);
    actionBtn.addEventListener("touchstart", e => {
      e.preventDefault();
      triggerSpace();
    }, { passive: false });
  </script>
</body>
</html>
